struct Adder {
  in a: u32,
  in b: u32,
  out s: u32,
}

fn add_combinational_illegal_observation_in_conditional<DUT: Adder>(in a: u32, in b: u32, out s: u32) {
  DUT.a := X;
  DUT.b := X;
  DUT.a := a;

  if (DUT.s == 32'b0) { // this should be illegal
    // pass
  } else {
    // pass
  }
  step();
}

fn add_combinational_illegal_observation_in_assertion<DUT: Adder>(in a: u32, in b: u32, out s: u32) {
  DUT.a := X;
  DUT.b := X;
  DUT.a := a;

  assert_eq(DUT.s, s); // this should be illegal
  step();
}

fn add_combinational_legal_observation_illegal_assignment<DUT: Adder>(in a: u32, in b: u32, out s: u32) {
  if (DUT.s == 32'b0) {
    DUT.a := a; // this should be illegal
  } else {

  }
  step();
}

fn add_combinational<DUT: Adder>(in a: u32, in b: u32, out s: u32) {
  DUT.a := a;
  DUT.b := b;
  assert_eq(s, DUT.s);
  step();
}