// ARGS: --wave wal/advanced/uart-axi-minimal.fst --instances uut_rx:AXIS --sample-posedge uut_rx.clk --show-waveform-time --time-unit ns
// RETURN: 1
// OUT: err 2

// Version of `axis_minimal.prot` with the `send_data` function removed

struct AXIS {
    out m_axis_tready: u1,
    in m_axis_tvalid: u1,
    in m_axis_tdata: u8,
}

#[idle]
prot idle<D: AXIS>() {
    D.m_axis_tvalid := 1'b0;
    // D.data is implicitly X
    step();
}